<!DOCTYPE html>

<html>
  <head>
    <title>Protocol Documentation</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700,400italic"/>
    <style>
      body {
        width: 60em;
        margin: 1em auto;
        color: #222;
        font-family: "Ubuntu", sans-serif;
        padding-bottom: 4em;
      }

      h1 {
        font-weight: normal;
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
      }

      h2 {
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
        margin: 1.5em 0;
      }

      h3 {
        font-weight: normal;
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
      }

      a {
        text-decoration: none;
        color: #567e25;
      }

      table {
        width: 100%;
        font-size: 80%;
        border-collapse: collapse;
      }

      thead {
        font-weight: 700;
        background-color: #dcdcdc;
      }

      tbody tr:nth-child(even) {
        background-color: #fbfbfb;
      }

      td {
        border: 1px solid #ccc;
        padding: 0.5ex 2ex;
      }

      td p {
        text-indent: 1em;
        margin: 0;
      }

      td p:nth-child(1) {
        text-indent: 0;  
      }

       
      .field-table td:nth-child(1) {  
        width: 10em;
      }
      .field-table td:nth-child(2) {  
        width: 10em;
      }
      .field-table td:nth-child(3) {  
        width: 6em;
      }
      .field-table td:nth-child(4) {  
        width: auto;
      }

       
      .extension-table td:nth-child(1) {  
        width: 10em;
      }
      .extension-table td:nth-child(2) {  
        width: 10em;
      }
      .extension-table td:nth-child(3) {  
        width: 10em;
      }
      .extension-table td:nth-child(4) {  
        width: 5em;
      }
      .extension-table td:nth-child(5) {  
        width: auto;
      }

       
      .enum-table td:nth-child(1) {  
        width: 10em;
      }
      .enum-table td:nth-child(2) {  
        width: 10em;
      }
      .enum-table td:nth-child(3) {  
        width: auto;
      }

       
      .scalar-value-types-table tr {
        height: 3em;
      }

       
      #toc-container ul {
        list-style-type: none;
        padding-left: 1em;
        line-height: 180%;
        margin: 0;
      }
      #toc > li > a {
        font-weight: bold;
      }

       
      .file-heading {
        width: 100%;
        display: table;
        border-bottom: 1px solid #aaa;
        margin: 4em 0 1.5em 0;
      }
      .file-heading h2 {
        border: none;
        display: table-cell;
      }
      .file-heading a {
        text-align: right;
        display: table-cell;
      }

       
      .badge {
        width: 1.6em;
        height: 1.6em;
        display: inline-block;

        line-height: 1.6em;
        text-align: center;
        font-weight: bold;
        font-size: 60%;

        color: #89ba48;
        background-color: #dff0c8;

        margin: 0.5ex 1em 0.5ex -1em;
        border: 1px solid #fbfbfb;
        border-radius: 1ex;
      }
    </style>

    
    <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
  </head>

  <body>

    <h1 id="title">Protocol Documentation</h1>

    <h2>Table of Contents</h2>

    <div id="toc-container">
      <ul id="toc">
        
          
          <li>
            <a href="#krotoplus%2fcompiler%2fconfig.proto">krotoplus/compiler/config.proto</a>
            <ul>
              
                <li>
                  <a href="#krotoplus.compiler.CompilerConfig"><span class="badge">M</span>CompilerConfig</a>
                </li>
              
                <li>
                  <a href="#krotoplus.compiler.ExtenableMessagesGenOptions"><span class="badge">M</span>ExtenableMessagesGenOptions</a>
                </li>
              
                <li>
                  <a href="#krotoplus.compiler.FileFilter"><span class="badge">M</span>FileFilter</a>
                </li>
              
                <li>
                  <a href="#krotoplus.compiler.GeneratorScriptsGenOptions"><span class="badge">M</span>GeneratorScriptsGenOptions</a>
                </li>
              
                <li>
                  <a href="#krotoplus.compiler.GrpcStubExtsGenOptions"><span class="badge">M</span>GrpcStubExtsGenOptions</a>
                </li>
              
                <li>
                  <a href="#krotoplus.compiler.InsertionsGenOptions"><span class="badge">M</span>InsertionsGenOptions</a>
                </li>
              
                <li>
                  <a href="#krotoplus.compiler.InsertionsGenOptions.Entry"><span class="badge">M</span>InsertionsGenOptions.Entry</a>
                </li>
              
                <li>
                  <a href="#krotoplus.compiler.MockServicesGenOptions"><span class="badge">M</span>MockServicesGenOptions</a>
                </li>
              
                <li>
                  <a href="#krotoplus.compiler.ProtoBuildersGenOptions"><span class="badge">M</span>ProtoBuildersGenOptions</a>
                </li>
              
              
                <li>
                  <a href="#krotoplus.compiler.InsertionPoint"><span class="badge">E</span>InsertionPoint</a>
                </li>
              
              
              
            </ul>
          </li>
        
        <li><a href="#scalar-value-types">Scalar Value Types</a></li>
      </ul>
    </div>

    
      
      <div class="file-heading">
        <h2 id="krotoplus/compiler/config.proto">krotoplus/compiler/config.proto</h2><a href="#title">Top</a>
      </div>
      <p></p>

      
        <h3 id="krotoplus.compiler.CompilerConfig">CompilerConfig</h3>
        <p>Message backing the root of a Kroto+ configuration file.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>grpc_stub_exts</td>
                  <td><a href="#krotoplus.compiler.GrpcStubExtsGenOptions">GrpcStubExtsGenOptions</a></td>
                  <td>repeated</td>
                  <td><p>Configuration entries for the &#39;gRPC Stub Extensions&#39; code generator. </p></td>
                </tr>
              
                <tr>
                  <td>mock_services</td>
                  <td><a href="#krotoplus.compiler.MockServicesGenOptions">MockServicesGenOptions</a></td>
                  <td>repeated</td>
                  <td><p>Configuration entries for the &#39;Mock Service&#39; code generator. </p></td>
                </tr>
              
                <tr>
                  <td>proto_builders</td>
                  <td><a href="#krotoplus.compiler.ProtoBuildersGenOptions">ProtoBuildersGenOptions</a></td>
                  <td>repeated</td>
                  <td><p>Configuration entries for the &#39;Proto Builders&#39; code generator. </p></td>
                </tr>
              
                <tr>
                  <td>extendable_messages</td>
                  <td><a href="#krotoplus.compiler.ExtenableMessagesGenOptions">ExtenableMessagesGenOptions</a></td>
                  <td>repeated</td>
                  <td><p>Configuration entries for the &#39;Extendable Messages&#39; code generator. </p></td>
                </tr>
              
                <tr>
                  <td>insertions</td>
                  <td><a href="#krotoplus.compiler.InsertionsGenOptions">InsertionsGenOptions</a></td>
                  <td>repeated</td>
                  <td><p>Configuration entries for the &#39;Protoc Insertions&#39; code generator. </p></td>
                </tr>
              
                <tr>
                  <td>generator_scripts</td>
                  <td><a href="#krotoplus.compiler.GeneratorScriptsGenOptions">GeneratorScriptsGenOptions</a></td>
                  <td>repeated</td>
                  <td><p>Configuration entries for the &#39;Generator Scripts&#39; code generator. </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      
        <h3 id="krotoplus.compiler.ExtenableMessagesGenOptions">ExtenableMessagesGenOptions</h3>
        <p>Configuration used by the 'Extendable Messages' code generator.</p><p>Since this code generator relies on the protoc insertion point API,</p><p>its outputDir must match that of the protoc java plugin.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>filter</td>
                  <td><a href="#krotoplus.compiler.FileFilter">FileFilter</a></td>
                  <td></td>
                  <td><p>Filter used for limiting the input files that are processed by the code generator
The default filter will match true against all input files. </p></td>
                </tr>
              
                <tr>
                  <td>companion_field_name</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>The name of the field that will hold a reference to the pseudo companion object </p></td>
                </tr>
              
                <tr>
                  <td>companion_class_name</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>The name to use for the class declaration of the pseudo companion object </p></td>
                </tr>
              
                <tr>
                  <td>companion_extends</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>The FQ name of the class that the pseudo companion object should extend.
Currently limited to classes with at least one no-args contructor.
Referencing the current message type, use the value &#39;{{message_type}}&#39;.
This is useful when you want to use the current message as a generic type param.
ie. com.krotoplus.example.MyCompanionInterface&lt;{{message_type}}, {{message_type}}.Builder&gt; </p></td>
                </tr>
              
                <tr>
                  <td>companion_implements</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>The FQ name of an interface the pseudo companion object should implement.
Referencing the current message type, use the value &#39;{{message_type}}&#39;.
This is useful when you want to use the current message as a generic type param.
ie. com.krotoplus.example.MyCompanionInterface&lt;{{message_type}}, {{message_type}}.Builder&gt; </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      
        <h3 id="krotoplus.compiler.FileFilter">FileFilter</h3>
        <p>Represent a filter used for including and excluding source files from</p><p>being processed by a code generator. It is inclusive by default, so</p><p>all paths compared against its default instance will be included as</p><p>input to a generator and processed.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>include_path</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p>List of file paths to include as inputs for a code generator.
A valid value starts from the root package directory of the source file. Globs are supported
ie.
krotoplus/compiler/config.proto
krotoplus/**
**/compiler/con*.proto </p></td>
                </tr>
              
                <tr>
                  <td>exclude_path</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p>List of file paths to exclude as inputs for a code generator.
a valid value start from the root package directory of the source file. Globs are supported
ie. google/* </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      
        <h3 id="krotoplus.compiler.GeneratorScriptsGenOptions">GeneratorScriptsGenOptions</h3>
        <p>Configuration used by the 'Generator Scripts' code generator.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>filter</td>
                  <td><a href="#krotoplus.compiler.FileFilter">FileFilter</a></td>
                  <td></td>
                  <td><p>Filter used for limiting the input files that are processed by the code generator
The default filter will match true against all input files. </p></td>
                </tr>
              
                <tr>
                  <td>script_path</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p>List of paths to kotlin script files to execute for this configuration.
The scripts are compile at runtime by an embedded kotlin compiler.
This comes at the cost of performance.
Paths for scripts compiled at run time must be relative to the path of the configuration file.
ie. &#39;kp-scripts/src/main/kotlin/sampleInsertionScript.kts&#39;
For a more performant option for script execution, precompiled scripts are supported.
Paths for precompile scripts need to match their location in the supplied jar.
ie. &#39;sampleInsertionScript.kts&#39; </p></td>
                </tr>
              
                <tr>
                  <td>script_bundle</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>Path to the jar containing precompile scripts. </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      
        <h3 id="krotoplus.compiler.GrpcStubExtsGenOptions">GrpcStubExtsGenOptions</h3>
        <p>Configuration used by the 'gRPC Stub Extensions' code generator.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>filter</td>
                  <td><a href="#krotoplus.compiler.FileFilter">FileFilter</a></td>
                  <td></td>
                  <td><p>Filter used for limiting the input files that are processed by the code generator
The default filter will match true against all input files. </p></td>
                </tr>
              
                <tr>
                  <td>support_coroutines</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>Enable code generation for coroutine supporting service stub extensions.
This options generates code that relies on the artifact &#39;kroto-plus-coroutines&#39; </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      
        <h3 id="krotoplus.compiler.InsertionsGenOptions">InsertionsGenOptions</h3>
        <p>Configuration used by the 'Protoc Insertions' code generator.</p><p>Since this code generator relies on the protoc insertion point API,</p><p>its outputDir must match that of the protoc java plugin.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>filter</td>
                  <td><a href="#krotoplus.compiler.FileFilter">FileFilter</a></td>
                  <td></td>
                  <td><p>Filter used for limiting the input files that are processed by the code generator
The default filter will match true against all input files. </p></td>
                </tr>
              
                <tr>
                  <td>entry</td>
                  <td><a href="#krotoplus.compiler.InsertionsGenOptions.Entry">InsertionsGenOptions.Entry</a></td>
                  <td>repeated</td>
                  <td><p>List of configurations to be applied to the file filter. </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      
        <h3 id="krotoplus.compiler.InsertionsGenOptions.Entry">InsertionsGenOptions.Entry</h3>
        <p>Configuration to apply to the files matched by the file filter.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>point</td>
                  <td><a href="#krotoplus.compiler.InsertionPoint">InsertionPoint</a></td>
                  <td></td>
                  <td><p>The protoc insertion point at which the generated code will be inserted. </p></td>
                </tr>
              
                <tr>
                  <td>content</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p>String literal of content to be set at the insertion point.
Referencing the current message type, use the value &#39;{{message_type}}&#39;.
This is useful when you want to use the current message as a generic type param.
ie. com.krotoplus.example.MyCompanionInterface&lt;{{message_type}}, {{message_type}}.Builder&gt; </p></td>
                </tr>
              
                <tr>
                  <td>script_path</td>
                  <td><a href="#string">string</a></td>
                  <td>repeated</td>
                  <td><p>List of paths to kotlin script files to execute for this configuration.
The scripts are compile at runtime by an embedded kotlin compiler.
This comes at the cost of performance.Paths for scripts compiled at run time must be relative to the path of the configuration file.
ie. &#39;kp-scripts/src/main/kotlin/sampleInsertionScript.kts&#39;
For a more performant option for script execution, precompiled scripts are supported.
Paths for precompile scripts need to match their location in the supplied jar.
ie. &#39;sampleInsertionScript.kts&#39; </p></td>
                </tr>
              
                <tr>
                  <td>script_bundle</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>Path to the jar containing precompile scripts. </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      
        <h3 id="krotoplus.compiler.MockServicesGenOptions">MockServicesGenOptions</h3>
        <p>Configuration used by the 'Mock Services' code generator.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>filter</td>
                  <td><a href="#krotoplus.compiler.FileFilter">FileFilter</a></td>
                  <td></td>
                  <td><p>Filter used for limiting the input files that are processed by the code generator
The default filter will match true against all input files. </p></td>
                </tr>
              
                <tr>
                  <td>implement_as_object</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>By default, mock services are generated as an open class
but an object can be generated instead. </p></td>
                </tr>
              
                <tr>
                  <td>generate_service_list</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>Flag for generating a static collection of the Mock Services created.
Useful when registering mock services to a GrpcServerRule during unit tests. </p></td>
                </tr>
              
                <tr>
                  <td>service_list_package</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>The java package at which the mock server list should reside. </p></td>
                </tr>
              
                <tr>
                  <td>service_list_name</td>
                  <td><a href="#string">string</a></td>
                  <td></td>
                  <td><p>The name of the property at which the mock server list will be initialized at. </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      
        <h3 id="krotoplus.compiler.ProtoBuildersGenOptions">ProtoBuildersGenOptions</h3>
        <p>Configuration used by the 'Proto Builders' code generator.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>filter</td>
                  <td><a href="#krotoplus.compiler.FileFilter">FileFilter</a></td>
                  <td></td>
                  <td><p>Filter used for limiting the input files that are processed by the code generator
The default filter will match true against all input files. </p></td>
                </tr>
              
                <tr>
                  <td>unwrap_builders</td>
                  <td><a href="#bool">bool</a></td>
                  <td></td>
                  <td><p>By default the generated utility methods for building messages are
wrapped in an object similiar to a proto outer class. For better
ergonomics with code generated using &#39;java_multiple_files&#39; the
builders can be unwrapped and generated at the root scope of
the output file. </p></td>
                </tr>
              
            </tbody>
          </table>
        

        
      

      
        <h3 id="krotoplus.compiler.InsertionPoint">InsertionPoint</h3>
        <p></p>
        <table class="enum-table">
          <thead>
            <tr><td>Name</td><td>Number</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>UNKNOWN</td>
                <td>0</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>INTERFACE_EXTENDS</td>
                <td>1</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>MESSAGE_IMPLEMENTS</td>
                <td>2</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>BUILDER_IMPLEMENTS</td>
                <td>3</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>BUILDER_SCOPE</td>
                <td>4</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>CLASS_SCOPE</td>
                <td>5</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>ENUM_SCOPE</td>
                <td>6</td>
                <td><p></p></td>
              </tr>
            
              <tr>
                <td>OUTER_CLASS_SCOPE</td>
                <td>7</td>
                <td><p></p></td>
              </tr>
            
          </tbody>
        </table>
      

      

      
    

    <h2 id="scalar-value-types">Scalar Value Types</h2>
    <table class="scalar-value-types-table">
      <thead>
        <tr><td>.proto Type</td><td>Notes</td><td>C++ Type</td><td>Java Type</td><td>Python Type</td></tr>
      </thead>
      <tbody>
        
          <tr id="double">
            <td>double</td>
            <td></td>
            <td>double</td>
            <td>double</td>
            <td>float</td>
          </tr>
        
          <tr id="float">
            <td>float</td>
            <td></td>
            <td>float</td>
            <td>float</td>
            <td>float</td>
          </tr>
        
          <tr id="int32">
            <td>int32</td>
            <td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
          </tr>
        
          <tr id="int64">
            <td>int64</td>
            <td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
          </tr>
        
          <tr id="uint32">
            <td>uint32</td>
            <td>Uses variable-length encoding.</td>
            <td>uint32</td>
            <td>int</td>
            <td>int/long</td>
          </tr>
        
          <tr id="uint64">
            <td>uint64</td>
            <td>Uses variable-length encoding.</td>
            <td>uint64</td>
            <td>long</td>
            <td>int/long</td>
          </tr>
        
          <tr id="sint32">
            <td>sint32</td>
            <td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
          </tr>
        
          <tr id="sint64">
            <td>sint64</td>
            <td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
          </tr>
        
          <tr id="fixed32">
            <td>fixed32</td>
            <td>Always four bytes. More efficient than uint32 if values are often greater than 2^28.</td>
            <td>uint32</td>
            <td>int</td>
            <td>int</td>
          </tr>
        
          <tr id="fixed64">
            <td>fixed64</td>
            <td>Always eight bytes. More efficient than uint64 if values are often greater than 2^56.</td>
            <td>uint64</td>
            <td>long</td>
            <td>int/long</td>
          </tr>
        
          <tr id="sfixed32">
            <td>sfixed32</td>
            <td>Always four bytes.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
          </tr>
        
          <tr id="sfixed64">
            <td>sfixed64</td>
            <td>Always eight bytes.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
          </tr>
        
          <tr id="bool">
            <td>bool</td>
            <td></td>
            <td>bool</td>
            <td>boolean</td>
            <td>boolean</td>
          </tr>
        
          <tr id="string">
            <td>string</td>
            <td>A string must always contain UTF-8 encoded or 7-bit ASCII text.</td>
            <td>string</td>
            <td>String</td>
            <td>str/unicode</td>
          </tr>
        
          <tr id="bytes">
            <td>bytes</td>
            <td>May contain any arbitrary sequence of bytes.</td>
            <td>string</td>
            <td>ByteString</td>
            <td>str</td>
          </tr>
        
      </tbody>
    </table>
  </body>
</html>

